<hr>
<div style="text-align:center" *ngIf="displayResult">
    <!-- <div style="text-align:center">  -->
    <button (click)="callChart()" type="button" class="btn btn-danger button4">Show Trend Chart</button>
</div>
<br>

<div class="container" id="resultcontainer" *ngIf="displayResult">
    <div class="row">
        <!-- Product Container -->
        <div class="col-sm" id="tablecontainer">
            <h5 align="center">Products</h5>
            <table border=1 class="table table-sm table-dark">
                <thead>
                    <th class="bg-info" scope="col">Product Name</th>
                    <th class="bg-info" scope="col">Attribute</th>
                </thead>
                <tbody>
                    <ng-container *ngFor="let product of trends">
                        <tr>
                            <td scope="row">{{product.productname}}</td>
                            <td scope="row">{{product.attribute}}</td>
                        </tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
        <!-- History Container -->
        <div class="col-sm" id="tablecontainer">
            <h5 align="center">History</h5>
            <table border=1 class="table table-sm table-dark">

                <thead>
                    <th class="bg-info" scope="col"
                        *ngFor="let historyweeks of trends[0].history | keyvalue : returnZero">{{historyweeks.key}}</th>
                </thead>
                <tbody>
                    <ng-container *ngFor="let product of trends">
                        <ng-container *ngFor="let historyweeks of product.history |  keyvalue : returnZero ">
                            <td scope="row">{{historyweeks.value.quantity}}</td>
                        </ng-container>
                        <tr></tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
        <!-- Forecast Container -->
        <div class="col-sm" id="tablecontainer">
            <h5 align="center">Forecast</h5>
            <table border=1 class="table table-sm table-dark">
                <thead>
                    <th class="bg-info" scope="col"
                        *ngFor="let forecastweeks of trends[0].forecast  | keyvalue : returnZero ">{{forecastweeks.key}}
                    </th>
                </thead>
                <tbody>
                    <ng-container *ngFor="let product of trends">
                        <ng-container *ngFor="let forecastweeks of product.forecast |  keyvalue : returnZero ">
                            <td scope="row">{{forecastweeks.value.quantity}}</td>
                        </ng-container>
                        <tr></tr>
                    </ng-container>
                </tbody>
            </table>
        </div>

        <!-- Summary Container -->
        <div class="col-sm" id="tablecontainer">
            <h5 align="center">Summary</h5>
            <table border=1 class="table table-sm table-dark">
                <thead>
                    <th class="bg-info" scope="col"
                        *ngFor="let forecastperiod of trends[0].forecastSummary  |  keyvalue : returnZero">
                        {{forecastperiod.key}}</th>
                </thead>
                <tbody>
                    <ng-container *ngFor="let product of trends">
                        <ng-container *ngFor="let forecastquantity of product.forecastSummary |  keyvalue : returnZero">
                            <td scope="row">{{forecastquantity.value}}</td>
                        </ng-container>
                        <tr></tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
    </div>
</div>